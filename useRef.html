<body>
    <div id="root"></div>
    <script src="https://unpkg.com/react@16.12.0/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@16.12.0/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone@7.8.3/babel.js"></script>
    <script type="text/babel">
    function Counter(){
        const [count, setCount] = React.useState(0)
        const id = React.useRef(null)

        const clear = () => window.clearInterval(id.current)
        React.useEffect(()=>{
            id.current = window.setInterval(()=>{
                setCount(c=> c+1)
            },1000)
            return clear
        },[])
        return (
            <div>
            <h1>{count}</h1>
            <button onClick = {clear}>stop</button>
            </div>
        )
    }


    ReactDOM.render(<Counter />, document.getElementById('root'));
    </script>
</body>
